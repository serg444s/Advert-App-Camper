{"version":3,"file":"static/js/752.a095cee9.chunk.js","mappings":"4MACA,EAA4B,2BAA5B,EAA8D,sBAA9D,EAA2F,sB,8BCA3F,EAAsB,yB,SCETA,EAAc,SAAHC,GAAwB,IAAlBC,EAAUD,EAAVC,WAC5B,OACEC,EAAAA,EAAAA,KAAA,UAAQC,UAAWC,EAASC,QAASJ,EAAWK,SAAC,aAIrD,E,8BCuFA,EArFgB,WAIZ,IAAMC,GAAUC,EAAAA,EAAAA,IAAYC,EAAAA,IACtBC,GAAQF,EAAAA,EAAAA,IAAYG,EAAAA,IACpBC,GAAQJ,EAAAA,EAAAA,IAAYK,EAAAA,IACpBC,EAAUF,EAAMG,OAAS,EAE7BC,GAAWR,EAAAA,EAAAA,IAAYS,EAAAA,IACvBC,GAAWC,EAAAA,EAAAA,MA0BXC,GAAOZ,EAAAA,EAAAA,IAAYa,EAAAA,KAGzBC,EAAAA,EAAAA,YAAU,WACK,IAATF,GACFF,GAASK,EAAAA,EAAAA,KAGb,GAAG,CAACL,EAAUE,IAEd,IAAMI,EAAsB,CAC1BC,SAAU,GACVC,gBAAgB,EAChBC,WAAW,EACXC,SAAS,EACTC,IAAI,EACJC,QAAQ,EACRC,KAAM,IAYJ,OAAOC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAA3B,SAAA,CACNI,IAASR,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAASE,SAAC,+BAClC0B,EAAAA,EAAAA,MAAA,OAAK7B,UAAWC,EAAcE,SAAA,EAE5BJ,EAAAA,EAAAA,KAACgC,EAAAA,EAAU,KACTF,EAAAA,EAAAA,MAAA,OAAK7B,UAAWC,EAASE,SAAA,CAGhCQ,IAAYP,GAAUL,EAAAA,EAAAA,KAACiC,EAAAA,EAAU,CAACvB,MAAOA,KAAWV,EAAAA,EAAAA,KAAA,KAAGC,UAAWC,EAASE,SAAC,0CAC3EC,IAAYS,IAAYd,EAAAA,EAAAA,KAACH,EAAW,CAACE,WAhBhB,WACjBiB,GAASkB,EAAAA,EAAAA,MACTlB,GAASmB,EAAAA,EAAAA,GAAab,GAExB,YAsBJ,C","sources":["webpack://react-homework-template/./src/pages/Catalog/Catalog.module.css?56bd","webpack://react-homework-template/./src/components/LoadMoreBtn/LoadMoreBtn.module.css?7c53","components/LoadMoreBtn/LoadMoreBtn.jsx","pages/Catalog/Catalog.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Catalog_container__6pGHS\",\"list\":\"Catalog_list__cPrDH\",\"text\":\"Catalog_text__d9qDm\"};","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"LoadMoreBtn_btn__MyNek\"};","\nimport css from \"./LoadMoreBtn.module.css\";\n\nexport const LoadMoreBtn = ({ onLoadMore }) => {\n  return (\n    <button className={css.btn} onClick={onLoadMore}>\n      Load More\n    </button>\n  );\n};\n","import { useDispatch, useSelector } from \"react-redux\";\nimport CamperList from \"../../components/CamperList/CamperList\";\nimport css from \"./Catalog.module.css\"\nimport { getCampersError, getCampersStatus, selectFilteredCampers, selectPage, selectLastPage } from \"../../redux/selectors\";\nimport { useEffect } from \"react\";\nimport { getStartCampers } from \"../../redux/operations\";\nimport { LoadMoreBtn } from \"../../components/LoadMoreBtn/LoadMoreBtn\";\nimport FilterForm from \"../../components/FilterForm/FilterForm\";\nimport { incrementPage } from \"../../redux/campersSlice\";\nimport { changeFilter } from \"../../redux/filtersSlice\";\n\nconst Catalog = () => { \n\n\n    // const dispatch = useDispatch();\n    const loading = useSelector(getCampersStatus);\n    const error = useSelector(getCampersError);\n    const items = useSelector(selectFilteredCampers);\n    const visible = items.length > 0;\n// const page = useSelector(selectPage)\nconst lastPage = useSelector(selectLastPage);\nconst dispatch = useDispatch();\n\n\n    // const [page, setPage] = useState(1);\n\n\n    // const onLoadMore = () => {\n    //     setPage((prevPage) => prevPage + 1);\n    //   };\n\n    //     useEffect(() => {\n    //   dispatch(getStartCampers());\n    //       console.log('useEffect page:', page);\n\n    // }, [dispatch]);\n\n\n//     useEffect(() => {\n//       if (page > 1) {\n//         dispatch(fetchCampers(page));\n//       } else {\n//         dispatch(getStartCampers());\n// }\n      \n\n//     }, [dispatch, page]);\nconst page = useSelector(selectPage)\n\n\nuseEffect(() => {\n  if (page === 1 ) {\n    dispatch(getStartCampers());\n\n  }\n}, [dispatch, page]);\n\nconst initialFilterValues = {\n  location: '',\n  airConditioner: false,\n  automatic: false,\n  kitchen: false,\n  TV: false,\n  shower: false,\n  type: '',\n};\n\n\n\n    const onLoadMore = () => {\n      dispatch(incrementPage());\n      dispatch(changeFilter(initialFilterValues))\n\n    };\n\n\n    return <>\n    {error && <p className={css.text}>Sorry. Some went wrong...</p>}\n    <div className={css.container}> \n\n      <FilterForm/>\n        <div className={css.list}> \n\n\n{visible && !loading ? <CamperList items={items}/> : <p className={css.text}>There are no campers in this list...</p>}\n{!loading && !lastPage && <LoadMoreBtn onLoadMore={onLoadMore}/>}\n\n</div>\n\n        \n    </div>\n    \n\n    </>\n    \n}\nexport default Catalog;"],"names":["LoadMoreBtn","_ref","onLoadMore","_jsx","className","css","onClick","children","loading","useSelector","getCampersStatus","error","getCampersError","items","selectFilteredCampers","visible","length","lastPage","selectLastPage","dispatch","useDispatch","page","selectPage","useEffect","getStartCampers","initialFilterValues","location","airConditioner","automatic","kitchen","TV","shower","type","_jsxs","_Fragment","FilterForm","CamperList","incrementPage","changeFilter"],"sourceRoot":""}